# Movie Lottery - –ö–∏–Ω–æ–ø–æ–∏—Å–∫ Extension

–ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–ª—å–º–æ–≤ —Å –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞ –≤ –≤–∞—à—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É Movie Lottery.

## üé¨ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ö–Ω–æ–ø–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ** ‚Äî –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ–∏–ª—å–º–∞/—Å–µ—Ä–∏–∞–ª–∞ –Ω–∞ –ö–∏–Ω–æ–ø–æ–∏—Å–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—Ä–∞–Ω–∂–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞ ¬´–í –±–∏–±–ª–∏–æ—Ç–µ–∫—É¬ª
- **–ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –æ–¥–∏–Ω –∫–ª–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ñ–∏–ª—å–º —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä–µ–π—Ç–∏–Ω–≥, –ø–æ—Å—Ç–µ—Ä)
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –∫—Ä–∞—Å–∏–≤—ã–µ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** ‚Äî –æ—Ç–∫—Ä—ã—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∏–ª—å–º–∞
- **Popup –º–µ–Ω—é** ‚Äî –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º –≤—Å—Ç–∞–≤–∏–≤ —Å—Å—ã–ª–∫—É –ø—Ä—è–º–æ –≤ popup —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Movie Lottery —Å–µ—Ä–≤–µ—Ä–∞

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### Chrome / Chromium –±—Ä–∞—É–∑–µ—Ä—ã (Edge, Brave, Opera –∏ –¥—Ä.)

1. –û—Ç–∫—Ä–æ–π—Ç–µ `chrome://extensions/` (–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ)
2. –í–∫–ª—é—á–∏—Ç–µ ¬´–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞¬ª (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
3. –ù–∞–∂–º–∏—Ç–µ ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ¬ª
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `browser-extension`

### Firefox

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Manifest V3, –∫–æ—Ç–æ—Ä—ã–π Firefox –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç. –û–¥–Ω–∞–∫–æ –¥–ª—è Firefox –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–µ–±–æ–ª—å—à–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è.

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í –ø–æ–ª–µ ¬´URL —Å–µ—Ä–≤–µ—Ä–∞¬ª –≤–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Movie Lottery —Å–µ—Ä–≤–µ—Ä–∞
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `http://localhost:8888`
   - –î–ª—è production: —É–∫–∞–∂–∏—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–≥–∞–ª–æ—á–∫–∞)

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–ø–æ—Å–æ–± 1: –ö–Ω–æ–ø–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª—é–±–æ–≥–æ —Ñ–∏–ª—å–º–∞ –Ω–∞ –ö–∏–Ω–æ–ø–æ–∏—Å–∫–µ
   - –ü—Ä–∏–º–µ—Ä: `https://www.kinopoisk.ru/film/301/`
2. –ù–∞–π–¥–∏—Ç–µ –æ—Ä–∞–Ω–∂–µ–≤—É—é –∫–Ω–æ–ø–∫—É ¬´–í –±–∏–±–ª–∏–æ—Ç–µ–∫—É¬ª
3. –ù–∞–∂–º–∏—Ç–µ –µ—ë ‚Äî —Ñ–∏–ª—å–º –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É
4. –ü–æ—è–≤–∏—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

### –°–ø–æ—Å–æ–± 2: Popup –º–µ–Ω—é

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
2. –í –ø–æ–ª–µ ¬´–ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ¬ª –≤—Å—Ç–∞–≤—å—Ç–µ:
   - –ü–æ–ª–Ω—É—é —Å—Å—ã–ª–∫—É: `https://www.kinopoisk.ru/film/301/`
   - –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ ID: `301`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (+)

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Movie Lottery —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π API –∫–ª—é—á –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
browser-extension/
‚îú‚îÄ‚îÄ manifest.json      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îú‚îÄ‚îÄ background.js      # Service Worker –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ content.js         # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞
‚îú‚îÄ‚îÄ content.css        # –°—Ç–∏–ª–∏ –∫–Ω–æ–ø–∫–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ popup.html         # Popup –º–µ–Ω—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îú‚îÄ‚îÄ popup.css          # –°—Ç–∏–ª–∏ popup –º–µ–Ω—é
‚îú‚îÄ‚îÄ popup.js           # –õ–æ–≥–∏–∫–∞ popup –º–µ–Ω—é
‚îú‚îÄ‚îÄ icons/             # –ò–∫–æ–Ω–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ icon.svg       # –ò—Å—Ö–æ–¥–Ω–∏–∫ –∏–∫–æ–Ω–∫–∏
‚îî‚îÄ‚îÄ README.md          # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üé® –°–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫

–î–ª—è —Ä–∞–±–æ—Ç—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω—É–∂–Ω—ã PNG –∏–∫–æ–Ω–∫–∏. –°–æ–∑–¥–∞–π—Ç–µ –∏—Ö –∏–∑ `icons/icon.svg`:

### –ß–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://svgtopng.com/ –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ `icon.svg`
3. –°–∫–∞—á–∞–π—Ç–µ –≤ —Ä–∞–∑–º–µ—Ä–∞—Ö: 16x16, 32x32, 48x48, 128x128
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `icon16.png`, `icon32.png`, `icon48.png`, `icon128.png`

### –ß–µ—Ä–µ–∑ ImageMagick (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
```bash
cd browser-extension/icons
convert -background none icon.svg -resize 16x16 icon16.png
convert -background none icon.svg -resize 32x32 icon32.png
convert -background none icon.svg -resize 48x48 icon48.png
convert -background none icon.svg -resize 128x128 icon128.png
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

- –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞ (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –æ—Ç `Movie Lottery Extension`
- –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ background script: –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –Ω–∞–∂–º–∏—Ç–µ ¬´Service Worker¬ª

## üìù API Endpoint

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç endpoint:

```
POST /api/library/add-from-url
Content-Type: application/json

{
  "url": "https://www.kinopoisk.ru/film/301/"
}
```

–û—Ç–≤–µ—Ç:
```json
{
  "success": true,
  "message": "–§–∏–ª—å–º ¬´–ò–≤–∞–Ω –í–∞—Å–∏–ª—å–µ–≤–∏—á –º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏—é¬ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É!",
  "movie": {
    "id": 123,
    "name": "–ò–≤–∞–Ω –í–∞—Å–∏–ª—å–µ–≤–∏—á –º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏—é",
    "year": "1973",
    "poster": "https://...",
    "is_new": true
  }
}
```

